{"version":3,"sources":["turbopack:///[project]/src/app/create-family/page.tsx"],"sourcesContent":["'use client'\n\nimport { createClient } from '@/lib/supabase'\nimport { useRouter } from 'next/navigation'\nimport { useState } from 'react'\n\nexport default function CreateFamily() {\n  const [familyName, setFamilyName] = useState('')\n  const [message, setMessage] = useState('')\n  const router = useRouter()\n  const supabase = createClient()\n\n  const handleCreateFamily = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setMessage('')\n\n    const { data: { user } } = await supabase.auth.getUser()\n\n    if (!user) {\n      setMessage('You must be logged in to create a family list.')\n      return\n    }\n\n    const { data: list, error: listError } = await supabase\n      .from('lists')\n      .insert([{ name: familyName, user_id: user.id }])\n      .select()\n      .single()\n\n    if (listError) {\n      setMessage(listError.message)\n      return\n    }\n\n    // Add the list owner to the list_members table\n    const { error: memberError } = await supabase\n      .from('list_members')\n      .insert([{ list_id: list.id, profile_id: user.id, role: 'owner' }])\n\n    if (memberError) {\n      setMessage(memberError.message)\n      return\n    }\n\n    setMessage(`Family \"${list.name}\" created successfully!`)\n    router.push('/')\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 py-8\">\n      <div className=\"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md\">\n        <h1 className=\"text-2xl font-bold mb-4\">Create New Family List</h1>\n        {message && <p className=\"text-red-500 mb-4\">{message}</p>}\n        <form onSubmit={handleCreateFamily} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"familyName\" className=\"block text-sm font-medium text-gray-700\">Family Name</label>\n            <input\n              type=\"text\"\n              id=\"familyName\"\n              className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              value={familyName}\n              onChange={(e) => setFamilyName(e.target.value)}\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n          >\n            Create Family\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAEvB,EAAqB,MAAO,IAChC,EAAE,cAAc,GAChB,EAAW,IAEX,GAAM,CAAE,KAAM,CAAE,MAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAEtD,GAAI,CAAC,EAAM,YACT,EAAW,kDAIb,GAAM,CAAE,KAAM,CAAI,CAAE,MAAO,CAAS,CAAE,CAAG,MAAM,EAC5C,IAAI,CAAC,SACL,MAAM,CAAC,CAAC,CAAE,KAAM,EAAY,QAAS,EAAK,EAAE,AAAC,EAAE,EAC/C,MAAM,GACN,MAAM,GAET,GAAI,EAAW,YACb,EAAW,EAAU,OAAO,EAK9B,GAAM,CAAE,MAAO,CAAW,CAAE,CAAG,MAAM,EAClC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,CAAE,QAAS,EAAK,EAAE,CAAE,WAAY,EAAK,EAAE,CAAE,KAAM,OAAQ,EAAE,CAEpE,CAAI,EACF,EAAW,EAAY,OADR,AACe,GAIhC,EAAW,CAAC,QAAQ,EAAE,EAAK,IAAI,CAAC,uBAAuB,CAAC,EACxD,EAAO,IAAI,CAAC,KACd,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,2BACvC,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6BAAqB,IAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAoB,UAAU,sBAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,aAAa,UAAU,mDAA0C,gBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,aACH,UAAU,sJACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,QAAQ,CAAA,CAAA,OAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,uOACX,yBAOX"}